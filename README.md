# test_divanru

В дирректории pages хранятся страницы 
1. 1. MainPage хранит класс главной страницы с некоторыми атрибутами хэдера и методами работы с ними
   2. MainPage хранит также класс работы с каталогом. Класс каталога хранит универсальные методы по добавлению товаров в корзину
2. Popups хранит в себе два класса по работе с модальным окном обратной связи и по работе с попапом региона
3. Filtres Содержит в себе класс BaseFilters с универсальными методами по работе с раздичными фильтрами разделов. При необходимости уникальных фильтров можно наследоваться от базового класса с фильтрами. Реализована работа с различными типами фильтров по наименованию. А также работа со слайдерами
4. CartPage содержит логику работы с корзиной
5. В conftest вынесена инициализация браузера
6. В BaseClass реализованы различные универсальные впомогательные методы


Подробнее о фильтрации
На сайте есть определенные проблемы с перекрыванием элементов, например в слайдерах и в скрытых фильтрах. По этому в тесте реализованы методы по открытие всех закрытых списков фильтров , а также нажатия на кнопки Показа всего перечня фильтров в блоке. Только после раскрытия фильтров происходит непосредственный выбор. Также каретка максималного значения слаудера перекрывается элементом, из-за чего возможно клик только по минимальному элементу слайдера. Фильтрация выполняется путем передачи в метод переменного кол-ва аргументов. Аргументами является наименование конкретного фильтра. Фильтрация в слайдере производится путем передачи наименования блока фильтров, наименования самого фильтра и значения на какое необходимо слайдер передвинуть. Реализация слайдера требует доработок, тк на сайте сложная логика реализации элемента. 

Также модальное окно заполнения почты обратной связи появляется только при наличии курсора, методы предоставляемые селениумом не эмулирует это, так что на тест возможное появление модального окна не влияет. Но метод по ожиданию и закрытию окна реализован и упомянут несколько раз в тесте. 

В большинстве случаев элементы искались по css локаторам, тк много подвязок на классы, а с ними быстрее работать было через css. xpath применял в сложной логике

Все классы и методы реализовывались максимально абособленно и универсально, для дальнейшего переиспользования. 

test_smoke_buy.py содержит смок тест по переходу в каталог , фильтрации, добавлению перемнного кол-ва товаров в корзину и оформлению заказа. Для того что-бы заказ прошел весь вф и опубликовался на сайте, необходимо раскомментировать строку 34 cp.order_finally().
